---
title: "Trends in ecology and conservation over eight decades"
author:
- "Sean C. Anderson^1^"
- "Paul R. Elsen^2^"
- "Brent B. Hughes^3^"
- "Rebecca K. Tonietto^4^"
- "Add Your Name Here in Alphabetical Order^X^"
- "Mariah H. Meek^5^"
date: |
  ^1^Pacific Biological Station, Fisheries and Oceans Canada
     Nanaimo, BC, V6T 6N7, Canada; sean.anderson@dfo-mpo.gc.ca\
  ^2^Department of Forest and Wildlife Ecology, University of Wisconsin-Madison, WI 53706, USA\
  ^3^Department of Biology, Sonoma State University, Rohnert Park, CA 94928, USA\
  ^4^Department of Biology, University of Michigan-Flint, Flint, MI 48502, USA\
  ^5^Department of Integrative Biology and AgBio Research, Michigan State University, East Lansing, MI 48824, USA\
  ^X^Add Your Address Here
output:
  bookdown::pdf_document2:
    number_sections: no
    toc: no
    template: "article.tex"
bibliography: "refs.bib"
csl: "nature.csl"
link-citations: yes
linkcolor: "blue"
urlcolor: "blue"
abstract: >
  The abstract will go here.
---

\clearpage

```{r setup, echo = FALSE, message = FALSE, warning = FALSE}
library(knitr)
library(here)
library(ggplot2)
library(dplyr)
library(readr)
opts_chunk$set(echo = FALSE, message = FALSE, warnings = FALSE)
```

```{r plants_next_biggest, warning=FALSE, message=FALSE, echo=FALSE}
load(here::here("data/generated/top-blank.rda"))
plants <- dplyr::filter(gram_dat, gram == "plant community", year == 2010) %>%
  dplyr::pull(total)
next_biggest <- dplyr::filter(gram_dat, grepl("community$", gram), year == 2010) %>%
  dplyr::arrange(-total) %>%
  dplyr::pull(total) %>%
  `[[`(2)
plants_next_biggest <- floor(plants / next_biggest)
if (!plants_next_biggest %in% c(2, 3, 4, 5))
  stop("plants_next_biggest not in predefined list")
if (plants_next_biggest == 2) plants_next_biggest <- "two"
if (plants_next_biggest == 3) plants_next_biggest <- "three"
if (plants_next_biggest == 4) plants_next_biggest <- "four"
if (plants_next_biggest == 5) plants_next_biggest <- "five"

ds <- readr::read_csv(here::here("data/generated/methods-models-genetics-out.csv"))
x <- dplyr::filter(ds, gram_canonical == "GLM") %>% dplyr::transmute(year = year, total_glm = total)
y <- dplyr::filter(ds, gram_canonical == "t-test") %>% dplyr::transmute(year = year, total_ttest = total)
glm_surpasses_ttest <- dplyr::inner_join(x, y) %>%
  dplyr::filter(total_glm > total_ttest) %>%
  dplyr::pull(year) %>% min()

mcmc_first_year <- ds %>%
  dplyr::filter(gram_canonical == "MCMC") %>%
  dplyr::pull(year) %>% min()

monte_carlo_first_year <- ds %>%
  dplyr::filter(gram_canonical == "Monte Carlo") %>%
  dplyr::pull(year) %>% min()

# total1 <- readRDS(here::here("data/generated/total1.rds"))
# total_words <- filter(total1, year <= 2010, year >= 1930) %>%
#   pull(total_words) %>% sum()
```

```{r included-journals-prep, message=FALSE}
journals <-
  readr::read_csv(
    here::here("data/taxa-specific-journal-classifications.csv"),
    col_types = cols(
      Journal = col_character(),
      Slug = col_character(),
      TaxonSpecific = col_character(),
      Taxon = col_character(),
      Notes = col_character()
    )
  ) %>%
  rename(`JSTOR Slug` = Slug, `Taxon Specific` = TaxonSpecific) %>%
  select(-Taxon, -Notes)

journals$Journal[journals$Journal == "Ã‰coscience"] <- "Écoscience"

# journals <- readr::read_csv(here::here("data/journal-filtering.csv")) %>%
#   select(journal, group_vote, group_comments)
# journals <- journals %>% mutate(group_comments = ifelse(is.na(group_comments), "", group_comments)) %>%
#   rename(Journal = journal, `Inclusion code` = group_vote, Comments = group_comments)
#
# journals$Journal[journals$Journal == "Ã‰coscience"] <- "Écoscience"
# journals$Journal[journals$Journal == "Zeitschrift fÃ¼r Morphologie und Ã–kologie der Tiere"] <- "Zeitschrift für Morphologie und Ökologie der Tiere"
# journals$Journal[journals$Journal == "Annalen des Naturhistorischen Museums in Wien. Serie B fÃ¼r Botanik und Zoologie"] <- "Annalen des Naturhistorischen Museums in Wien. Serie B für Botanik und Zoologie"
#
# journals <- journals %>%
#   filter(`Inclusion code` != "EN")
n_journals <- nrow(dplyr::filter(journals, `Taxon Specific` == "N"))
```

The field of ecology has experienced rapid growth since the discipline-specific journal, *Ecology*, was first published over a century ago [@reiners2017; @kim2018]. Today, with hundreds of ecology journals representing a multitude of subdisciplines, the field spans in scope from general to applied to theoretical and has become increasingly intertwined with the fields of natural history and conservation. In light of such growth and diversification, accomplishing a broad overview of the field can be challenging. And yet a broad overview is critical for many reasons including guiding new research and funding directions and structuring educational frameworks [@mccallen2019].

The discipline of culturomics---the quantitative analysis of large bodies of text---offers a rich framework with which to track the evolution of a field through time [@michel2011; @ladle2016]. Specifically, word use in the published literature can serve as a proxy for tracking realized, versus perceived, importance. This approach has been applied to subsets of the ecological literature, notably a century of titles and abstracts in the journal *Ecology* [@kim2018], automated content analysis of titles and abstracts in top ecology journals based on impact factor [@mccallen2019], and more specific research questions restricted to certain regions or taxa [e.g., @beale2018].

Here, we build on previous analyses [e.g., @carmel2013; @reiners2017; @kim2018; @mccallen2019] by providing the first full-text analysis of ecology and conservation journals over eight decades encompassing `r n_journals` journals, 131,533 articles, and over half a billion words. We base our analysis on the JSTOR full-text corpus of "n-grams" from 1930 to 2010 for all journals that regularly publish ecological or conservation papers and are not regionally or taxonomically exclusive (see Methods). An n-gram is a sequence of terms separated by a space. For example, "biogeography" is a 1-gram and "body size" is a 2-gram (we herein denote n-grams in italics). Here, we standardize n-gram frequency by total words per year and analyze trends over time for a selection of n-grams. We derive our n-gram selection through both algorithmic and hand-curated approaches: (1) drawing on the most frequent and rapidly growing/declining n-grams in various decades and (2) developing logical groupings of terms that fall under key ecology and conservation themes (see Methods). Our approach therefore enables data-derived comparisons of trends in ecology and conservation to yield insights into the evolution of key concepts, analytical techniques, and entire subdisciplines in these fields.

# Results

## Broad trends in popularity

We compared trends in the most commonly used ecology 1- and 2-grams over the last eighty years (Fig. \@ref(fig:decades)a--d). *Species*, *plant*, and *area* were the most commonly used 1-grams in both the 1930s and 2000s (Fig. \@ref(fig:decades)a,c). The remaining most-common 1-grams in the 1940s (e.g., *time*, *water*, *temperature*) and all top-nine 2-grams from that era (e.g., *organic matter*, *soil moisture*) have declined in use over time (Fig. \@ref(fig:decades)a--b), whereas many of the most popular 2-grams in the 2000s did not even appear in the corpus until after 1970 (Fig. \@ref(fig:decades)d). By far, the 1- and 2-grams with the greatest rise in use over time were *climate* and *climate change* (Fig. \@ref(fig:decades)d--f) reflecting the now recognized role humans play in Earth's ecosystem processes as concern over climate change has increased alongside the growth of conservation science [@scheffers2016] (Fig. \@ref(fig:decades)e). To that end, the 1- and 2-grams with the most rapid increases in recent decades reflect a strong trend towards applied ecological research (e.g., *conservation*, *impact*, *biodiversity*, *ecosystem service*, *invasive species*, and *global ecology*; Fig. \@ref(fig:decades)e--f).

<!-- TODO: add some references -->

Changes in popular terms from the 1940s and 2000s likely reflect the changing societal issues facing Earth and an associated shift in science culture. In the 1940s, popular terms such as *time*, *number*, and *day* (Fig. \@ref(fig:decades)a) reference descriptive data, a notable difference compared to terminology use following analytical advancements and when statistics and modelling became standard tools in ecological research. Terms in the modern era that could represent similar concepts to *time*, *day*, and *number* include *data*, *effect*, *population*, and *model* (Fig. \@ref(fig:decades)c), which likely represent both a replacement of terminology and an underlying change in ecology from a semi-quantitative to quantitative discipline. Popular terms in the 1940s included *blue grama* (*Bouteloua gracilis*) and *wheat grass* (Fig. \@ref(fig:decades)c), which are rarely used today but were of greater significance in the 1940s, likely due to famine in the United States in the 1930s and World War II in the 1940s. For example, blue grama was heavily studied in the 1930s due to its drought tolerance [@mueller1942]. This focus on agricultural research was supported by other popular 2-grams from the 1940s, such as *organic matter*, *soil moisture*, and *fresh water* (Fig. \@ref(fig:decades)c).
<!-- SA: my editing of the opening paragraph has made for some duplication between the first and second paragraphs -->

We used a fill-in-the-blank strategy to algorithmically examine the dominant 2-grams associated with levels of scale in ecology (Fig. \@ref(fig:blanks)). We found that *species richness* and *plant species* have been the dominant adjective and noun uses of the term *species*, respectively (Fig. \@ref(fig:blanks)a--b). The term *native* rose in popularity around 2000 to become the third most common term preceding *species* as of 2010 (Fig. \@ref(fig:blanks)b). As an adjective, the term *population* has been primarily associated with *size*, *growth*, *dynamics*, and *density*, with *population growth* following approximately exponential growth itself (Fig. \@ref(fig:blanks)d). Conversely, *natural population* was the dominant noun form of *population*, but was surpassed by *human population* as of 2010 (Fig. \@ref(fig:blanks)e). Ecologists have written about *community structure*, and *community composition* more than any other adjective form of *community* and about *plant communities*, within our corpus, over `r plants_next_biggest` times more often than any other form of community (Fig. \@ref(fig:blanks)g--h). Ecologists first used the term *ecosystem* as a noun long before using it as an adjective starting around 1990 (Fig. \@ref(fig:blanks)j--k). As a noun, *ecosystem* has been most commonly associated with *forest*, *terrestrial*, and *marine*, with the latter seeing a sharp uptick since 2000 (Fig. \@ref(fig:blanks)k). As an adjective, *ecosystem service* and *ecosystem function* are by far the dominant 2-grams (Fig. \@ref(fig:blanks)j).

Using the same approach, we examined adjectives associated with conservation, diversity, experiment, and analysis (Fig. \@ref(fig:blanks) third column). *Biodiversity conservation* did not appear until the mid 1980s in our corpus but is now used over twice as often as the next most common conservation term, *nature conservation* (Fig. \@ref(fig:blanks)c). *Genetic diversity* has skyrocketed since the early 1990s to become the dominant adjective associated with diversity (Fig. \@ref(fig:blanks)f). *Field* and *laboratory experiment* peaked around 1990 and have been declining since (Fig. \@ref(fig:blanks)i). *Statistical*, the only top adjective associated with *analysis* that appeared in the corpus in the 1930s, continued to see growth as of 2010 (Fig. \@ref(fig:blanks)l); however, *data analysis*, which did not appear until 1950, surpassed *statistical analysis* around 2000 (Fig. \@ref(fig:blanks)l). *Meta-analysis*, which first appeared in the late 1980s in our corpus, has seen rapid growth to become the most common adjective associated with analysis as of 2010 (Fig. \@ref(fig:blanks)l).

## Ecological scale and community ecology

From the onset, ecologists and conservation biologists have studied organisms at the species-level, reflected by the sustained growth of *species* in the corpus over time (Fig. \@ref(fig:ecology)a, Fig. \@ref(fig:community-all)). Though references to the *cell*ular level were initially the next-most common, interest within the field of ecology has since transitioned to *populations*, followed by *communities* and *ecosystems* (Fig. \@ref(fig:ecology)b). *Competition* and *predation* were the interactions most commonly included in the corpus, yet both interactions have experienced sharp declines since the 1980s and early 2000s, respectively (Fig. \@ref(fig:ecology)c). Interestingly, the most commonly represented theories in the corpus all appear to have declined from peak levels (Fig. \@ref(fig:ecology)d, Fig. \@ref(fig:blanks-supp)a--b). For example, the theory of the *climax community* climaxed in the 1940s, followed by the peak for the *theory of island* biogeography in the late 1970s, and a peak and dropoff in *neutral theory* in the mid-2000s as each was posed to help explain community structure and diversity patterns (REF) (Fig. \@ref(fig:ecology)d). Although we did not observe clear associations between the rise and fall of most common theories and hypotheses, the decline in mentions of *competition* (Fig. \@ref(fig:ecology)c) was mirrored by the decline in mentions of *competition hypothesis* (Fig. \@ref(fig:ecology)e; although such terms are inextricably linked due to sharing a common word). Overall, while metrics of *abundance* were initially the most commonly reported (Fig. \@ref(fig:ecology)f) they plateaued in the 2000s while references to *diversity*, which incorporates both *abundance* and *richness*, have become the most common since the mid 1990s (Fig. \@ref(fig:ecology)f).

<!-- TODO: add references to the community ecology  -->
<!-- TODO: consider splitting into a  on theories and hypotheses, one on metrics and scale, and one on species interactions (short) -->
<!-- TODO: cite and describe Fig. \@ref(fig:blanks-supp) perhaps more than what I added above; also make sure to describe the niche panels (c--d)-->

## Statistics and data analysis

Ecology has increasingly become a data- and model-centric discipline (Fig. \@ref(fig:decades), Fig. \@ref(fig:methods), Fig. \@ref(fig:methods-all)). *Regression*, an overarching term encompassing many statistical approaches, saw continued and rapid growth in use since the 1950s, approaching *correlation* by 2005 (Fig. \@ref(fig:methods)a). References to *ANOVA* and *t-tests* both peaked around 2000, while mentions of generalized linear models (*GLMs*) steadily increased in frequency surpassing *t-tests* in `r glm_surpasses_ttest` (Fig. \@ref(fig:methods)a). In terms of how such models were fit, *least-squares*, formerly the dominant paradigm, was rapidly surpassed by *Bayesian*, *maximum likelihood*, and *information theoretic* terms around 2000; as of 2010, the term *Bayesian* was used over twice as often as *maximum likelihood* (Fig. \@ref(fig:methods)b). The Markov chain Monte Carlo sampling method (*MCMC*), which combined with modern computing power has been responsible for the boom in applied Bayesian data analysis [@gelman2014b] first appears in the corpus in `r mcmc_first_year` [@thompson1994], `r mcmc_first_year - 1970` years after Hastings[@hastings1970] described the concept.

Such statistical approaches and paradigms have been associated with endless debates about the role of hypothesis testing in ecology [@quinn1983; @burnham2002; @johnson2004]. To that end, use of the phrase *null hypothesis* peaked in the 1980s and the phrase *significant difference* peaked around 1990 and has declined since (Fig. \@ref(fig:methods)c). The associated terms *p-value* and *confidence interval* appeared in approximately equal frequency as of 2010 (Fig. \@ref(fig:methods)c), although both are often referred to by abbreviations missed in our corpus (e.g. "p =" or "CI"). *Power analysis* remains a rarely used term despite numerous pleas of its importance [@nakagawa2007; @smith2011d]. The increased frequency of so many data- and model-centric terms, along with the advent of online publishing, has coincided with the meteoric rise of *supplementary material* n-grams since around 2000---the 2-gram itself had the second most rapid increase across all 2-grams from 2000--2010 (Fig. \@ref(fig:decades)f)---and a concomitant decline in *unpublished data* (Fig. \@ref(fig:methods)d).

<!-- TODO: consider breaking into two paragraphs  -->
<!-- TODO: if breaking into two paragraphs then could expand slightly on debates on p-values, Burnham and Anderson etc. -->

## Genetics

The focus on genetics in ecology and conversation-related research has skyrocketed in the past several decades. This can be seen in the increase in the use of the term *genetic diversity* (Fig. \@ref(fig:blanks)f and \@ref(fig:methods)e). *Phylogenetics* remained the most commonly referenced genetic term from 1930 to 2010, and increased in use rapidly since the 1990s (Fig. \@ref(fig:methods)e). With the advent of *next-generation sequencing* [@sanger1977], we have also seen an increase in sequencing-based approaches to studying genetic diversity, particularly the rise in references to *single nucleotide polymorphisms* (Fig. \@ref(fig:methods)f). Notably, the term *epigenetics* has been in use since the 1950s (Fig. \@ref(fig:methods-all)), before ecologists even had methods for studying epigenetics in the modern sense [@bird2007]. This is likely because, beginning in the 1940s, *epigenetics* was used to refer to the differentiation of cells during embryonic development [@waddington2012].
<!-- TODO: add paragraph about different genetic tools and potential ongoing evolution of genetic fields (one of we perhaps missed and stopping in 2010?) -->

## Conservation and applied ecology

*Conservation* and themes related to applied ecology represented some of the fastest growing themes in modern ecology (Fig. \@ref(fig:decades)e). *Conservation* as a field originated alongside the formation of the Society for Conservation Biology in 1985 [@meine2006], prior to which the roughly synonymous term *preservation* was used as frequently in ecological literature (Fig. \@ref(fig:cons)a, Fig. \@ref(fig:conservation-all)). *Biodiversity*, a core concept of conservation, replaced the phrase *biological diversity* that had been in use since the 1960s [@soule1980]. Alongside *conservation*, *biodiversity* is one of the most rapidly growing terms we analyzed in the corpus (Fig. \@ref(fig:decades)e). Given the prominent focus on biodiversity conservation in the field of ecology, ecologists have increasingly studied the major threats to biodiversity loss: *habitat loss*, *invasive species*, *pollution*, *overpopulation*, *overexploitation*, and *climate change* (Fig. \@ref(fig:cons)b). Despite *overexploitation* being considered the most prevalent threat of species extinctions worldwide [@maxwell2016], the concept has received the least attention from ecologists both historically and currently (Fig. \@ref(fig:cons)b), though frequencies of words associated with specific modes of exploitation, such as *hunting*, *fishing*, and *logging*, have all grown steadily (Fig. \@ref(fig:cons)e). Up until the early 1990s, *pollution* was the leading concept in the context of threats to biodiversity---its use in the ecological literature having peaked in the mid 1970s (Fig. \@ref(fig:cons)b). Interestingly, frequencies of the term *ozone*, typically associated with studies of pollution, displayed a similar trend as *pollution*, but with a lag of approximately 15 years (Fig. \@ref(fig:cons)c). *Pollution* was then surpassed by *climate change* and subsequently by *invasive species*, two threats that now vastly outweigh all other threats in terms of their frequency of use (Fig. \@ref(fig:cons)b) and two of the top three fastest growing terms in all of ecology (Fig. \@ref(fig:decades)f).

A multitude of concepts originated alongside the proliferation of studies of climate change, habitat loss, and overexploitation (Fig. \@ref(fig:cons)c-e). Despite such relatively recent concept formations, such concepts have been the focus of multiple recent literature reviews [@scheffers2016; @pecl2017] and their associated terms are experiencing continued growth. For example, concepts related to climate change, such as *ocean acidification*, *range shifts*, and *climate extremes* have shown sharp upticks since the mid 2000s (Fig. \@ref(fig:cons)c). Other concepts have shown more complex patterns. For example, *sea-level rise* showed a large spike in usage in the mid 1990s, a downturn in usage by 2000, and then another sharp increase thereafter (Fig. \@ref(fig:cons)c). *Fragmentation* rose sharply following the common usage of the related term *habitat loss* around 1990, but its use has been in decline since about 2000 (Fig. \@ref(fig:cons)d). Interestingly, *fragmentation* and the commonly associated concept *theory of island* biogeography show similar patterns of use, with *fragmentation* lagging by approximately two decades (Fig. \@ref(fig:ecology)d). In terms of modes of overexploitation, which include both methods of species exploitation and resource extraction, *fishing* is currently the leading concept in our corpus, followed by *hunting* and *logging* (Fig. \@ref(fig:cons)e). Historically, *hunting* and *fishing* have exchanged positions of dominance in our corpus every decade, showing predator-prey-like dynamics in their frequency distributions over time (Fig. \@ref(fig:cons)e). Modes of exploitation of non-animal resources, such as *logging*, *harvesting*, and *mining*, have consistently been discussed less in the ecological literature compared to modes of animal exploitation (Fig. \@ref(fig:cons)e).

The prevention of biodiversity loss is a key goal of conservation ecologists, and the concept of protection has long been a pillar of biodiversity conservation [@watson2014]. Until roughly 2000, *park* was the most frequently used term related to forms of geographic protection (Fig. \@ref(fig:cons)f). *Protected areas* has grown steadily over the past eight decades with the growth in *marine protected areas* showing a similar pattern, but lagging by several decades (Fig. \@ref(fig:cons)f). These patterns of usage approximately mirror the growth rate of actual protected land and sea area globally [@watson2014]. Many of the key forms of geographic protection, including *parks*, *reserves*, *protected areas*, and *preserves* predated the common usage of the term *conservation* (Fig. \@ref(fig:cons)a,f), although this could be due in part to several of these also acting as verbs. Nevertheless, the clear and sustained rise in all terms related to geographic protection over eight decades points to their continued importance in conservation and applied ecology.

## Social sciences and ecology

Over the last few decades, there has been increasing attention to human dimensions in ecology and biodiversity conservation. Since the 1990s, there has been an increase in research on market or community-based conservation interventions (Fig. \@ref(fig:social)a, Fig. \@ref(fig:social-all))---particularly environmental certification programs and payment for ecosystem services schemes such as the Reducing Emissions from Deforestation and Forest Degradation (*REDD*) program. We also observed an increased focus on *human well-being* (Fig. \@ref(fig:social)b), with a spike of research on *human health* in the 1970s and, more recently, an overall growth in research on *poverty*, *food security*, and overall *human well-being* since the 1990s. Given the increased focus on the human dimensions of biodiversity conservation over the last decades [@bennett2017], it was expected that social science methods such as *interviews* and *questionnaires* would become more widely used in the literature (Fig. \@ref(fig:social)c). However, more qualitative methods such as *focus groups*, *ethnography*, or *participant observation* remain scarcely used, which supports the assertion that ecology and conservation continue to rely mostly on quantitative methods (REF?). Parallel to the increased focus on human well-being since the 1970s, we observed an increased frequency of n-grams related to *stakeholders*, *local communities*, and *indigenous people* (Fig. \@ref(fig:social)d). Yet, it is clear that key stakeholder groups such as indigenous people are still underrepresented if we take into account how much land is under indigenous management [@garnett2018].

<!-- TODO: Figure out a way to make this paragraph match the style of the other paragraphs a bit better (in particular, make sure some of the terms are referred to in italics) -->
<!-- TODO: How might the absence of survey as in household survey affect interpretation? -->
<!-- TODO: What quantitative methods are used would be coming from general ecology and the statistics panel? -->
<!-- TODO: Could integrate back and some of the remove text (especially human well-being tax but also the one sentence on interviews and questionnaires) -->

# Discussion

The field of ecology has evolved over the last eight decades from a discipline sharing much of its core concepts with biology and focused predominately on fundamental science to one that is increasingly multidisciplinary and applied. Our results, based on the first-ever full-text analysis of multiple ecology and conservation journals, are in line with recent studies analysing trends in ecological concepts over four to ten decades derived from titles, abstracts, and keywords [@kim2018; @mccallen2019], yet contrast markedly with findings from a recent review of expert opinions on trends in important ecological concepts [@reiners2017]. This discrepancy highlights that ecology may be perceived as a discipline concerned largely with fundamental science while quantitative analyses reveal a more applied focus. However, our results reinforce the notion of both previous quantitative- [@mccallen2019] and expert-opinion-based studies [@reiners2017] that ecologists are now working on increasingly complex and specialised topics, at broader spatial scales [@estes2018], and at higher levels of taxonomic and hierarchical organization [@kim2018]. Such advances have, in many cases, led to rapid advancement of concept formation, with many concepts originating since 2000.

Our results also highlight that the analytical techniques used in ecology have evolved along with concept formation, with ecological research becoming increasingly quantitative and data-driven (Fig. \@ref(fig:methods)). In particular, a multitude of statistical paradigms and analytical techniques in genetics have emerged in the ecological literature over the past three decades, despite being readily applied in other disciplines, such as computer science and engineering. This suggests that advanced training in statistics, genetic techniques, and computer programming may be increasingly important in ecological curricula. Furthermore, ecological statistical curricula may need to transition from recipe-based approaches involving ANOVAs and t-tests to curricula that emphasize probability theory, programming, and simulation-based approaches [@mcelreath2015] if students are to be prepared for the research published in the field (Fig. \@ref(fig:methods)a--b).

While results from our full-text analysis from ecological journals were largely consistent with those from titles, abstracts, and keywords [@mccallen2019], we also uncovered some contrasting trends. Notably, McCallen et al. [@mccallen2019] found a slight decrease in the use of *conservation* in their analysis, while our full-text analysis revealed that *conservation* was one of the fastest growing terms in our corpus (Fig. \@ref(fig:cons)a). This may be due to higher frequency of use of the term in the introduction or discussion sections of a manuscript, which appear in much-abbreviated forms in abstracts, yet we cannot test this directly with our approach. Similarly, McCallen et al. [@mccallen2019] found a significant decline in the use of *competition* over the past four decades. Indeed, between 1970--2010, the frequency of *competition* mainly declined in our analysis, yet when analysed over eight decades, we found that the underlying trend is multi-peaked with an overall positive slope (Fig. \@ref(fig:ecology)c). We caution that trends can be sensitive to the temporal scale considered.

There are a number of important caveats to keep in mind when interpreting our results. First, our analysis tracks frequency of term use in the ecological literature but such frequency does not necessarily correspond to the importance of related concepts to the field. For example, some terms may be frequently mentioned in paper introductions but appear less often as the core topic of research. Other terms, such as "conservation", are linked to journal titles such as "Conservation Biology" and appear in the reference section of some papers. Second, the quality of the corpus improves through time---the data from the earlier years in our analysis are based on much smaller sample sizes than the more recent data (Fig. \@ref(fig:totals-by-journal), \@ref(fig:total-by-year)) and the data from the earlier years is mostly based on Optical Character Recognition (OCR), which is used to turn scanned PDFs into text with some inevitable errors. Third, the journals included in the corpus are not necessarily a random sample across the field of ecology. Our corpus does not include some prominent journals that publish ecological research (e.g. "Science" and "Nature"), nor does it include taxonomic-specific journals such as the "American Journal of Botany" or "The Journal of Wildlife Management", which we intentionally excluded to reduce taxonomic bias. Despite these unavoidable caveats, we see considerable merit in our full-text analysis of multiple ecological journals in terms of accomplishing a broad overview of the field and contributing to a growing body of knowledge through multiple lines of inference.

Looking forward...?

<!-- things on their way out on way out, e.g. natural history, is that the way we want to go the way the field is moving, e.g., meta-analysis -->

<!-- TODO: make sure we include some more citations from nat ecol evol -->

# Acknowledgements

JSTOR, Smith,  Smith Fellows, M.P. Dombeck, S.G. Foster, anyone who helped and declines to be an
author...

# Methods

## Data

We worked with the JSTOR data team to extract n-gram data from the full text of their database for a set of journals relevant to ecology and conservation. To select a set of journals, we reviewed all journals from the "Ecology & Evolutionary Biology" and "Biological Sciences" subject groups to evaluate their suitability for the analysis. We eliminated journals from our corpus according to the following rules: (1) We removed all journals that were taxonomically specific (e.g., we did not retain "Annals of Botany") to reduce taxonomic bias in our corpus through time. This step reduced the corpus from approximately billion words to just over 0.5 billion words, although the patterns in the 'curated panels' (Fig. \@ref(fig:ecology)--\@ref(fig:social)) remained largely unchanged. (2) We removed all journals that were not in English. We removed all journals that were not focussed on ecology or conservation (e.g., we removed journals that were purely biology focused). (3) We removed journals that appeared in the JSTOR database for less than TODO years unless they were still in the database as of 2010 or continued under a different name. (4) We removed journals that were region specific. Specifically, be removed journals that were specific with respect to longitude but retained journals that were latitude specific (e.g., we retained "Arctic and Alpine Research" but not "Great Basin Naturalist Memoirs"). In total, our corpus included `r n_journals` journals (Table \@ref(tab:included-journals), Fig. \@ref(fig:totals-by-journal)). We focused on 1-, 2-, and 3-grams since most common terms we were interested in were three words or less and the computational burden increased substantially with longer n-grams.

```{r}
# Removed PNAS IDs:
pnas_excluded_pub_ids <-
  readRDS(here::here("data/generated/pnas_exluded_pub_ids.rds"))
```

Our initial analyses revealed a number of necessary data-cleaning steps prior to our final analysis. (1) Our initial corpus was dominated by data from Proceedings of the National Academy of Sciences (PNAS), which also publishes a high volume of papers not relevant to ecology or conservation. Therefore, we excluded all papers (`r length(pnas_excluded_pub_ids)`) from PNAS that did not include one of the 1-grams "ecology" or "ecological". (2) We removed a series of TeX terms that were inadvertently included from the American Naturalist (e.g., "amsmath" and "documentclass") (Table \@ref(tab:bad-amnat)). (3) We limited our analysis to 1930--2010. Before 1930, there was a considerably more limited set of journals included in the corpus, and after 2010, the number of journals in the JSTOR corpus and the total number of words began to decline as more recent volumes were not yet included in the dataset (Fig. \@ref(fig:total-by-year)). These issues led to presumably spurious trends before 1930 or after 2010.

```{r}
bad_amnat <- readr::read_lines(here::here("data/bad-amnat.txt")) # latex code
bad_amnat <- tolower(sort(bad_amnat))
bad_amnat <- paste(bad_amnat, collapse = ", ")
```

## Algorithmic panels

We conducted a series of data processing steps to determine the most popular 1- and 2-grams in the 1940s and 2000s. To speed computation, we began by filtering the full data set down to the top 5000 1- and 2-grams over the entire time span. We then removed all n-grams that included numbers, we removed all 1-grams that had three or fewer characters, and we removed 2-grams in which either the first or second had three or fewer characters. To focus only on relevant parts of speech, we assigned parts of speech with the R function `koRpus::treetag()`. For 1-grams, we retained only nouns. For 2-grams, we retained only adjectives and nouns. Using the same parsing from `koRpus::treetag()`, we aggregated all remaining n-grams by their lemmas. For example, "plant" and "plants" are both derived from the same lemma "plant" and were combined. At this stage, we retained the top 500 1- and 2-gram lemmas by the frequency over the entire time span. We then excluded a set of n-grams that would primarily be used as affiliations or journal names or were frequent figures of speech unrelated to ecology (Table \@ref(tab:exclusion-n-grams)). After these filtering steps, we retained the top nine 1- and 2-grams in the time periods 1940--1950 and 2000--2010 for plotting.

Using the filtered dataset as described above with the top 500 1- and 2-grams, we determined the n-grams with the most rapid increases and decreases by fitting generalized linear models. We fit models of the form: $y_i \sim \mathrm{QuasiPoisson}(\mu_i),\ $ $\log(\mu_i) = \beta_0 + \beta_1 \mathrm{year_i} + \log(\mathrm{total}_i)$, where $y_i$ refers to the number of occurrences of a given n-gram in year $i$, $\mu_i$ refers to the expected number of occurrences, the $\beta$ terms refer to estimated parameters, "year" refers to a respective year, and "$\mathrm{total}_i$", which acts as an offset term, refers to the total number of 1-grams in year $i$. The QuasiPoisson distribution, fit in R [@r2018], allows for over dispersion beyond the Poisson distribution (variance that scales faster than the mean). We sorted the n-grams by their $\beta_1$ coefficient values in the above model to determine the nine 1- and 2-grams with the most rapid increases and decreases from 1930--1960 and 1980--2010.

When presenting these and all subsequent timeseries, we fit Generalized Additive Models (GAMs) with the R package mgcv [@wood2017] to characterize the general trends and uncertainty about those trends. We fit models of the form $y_i \sim \mathrm{QuasiPoisson}(\mu_i),\ $ $\log(\mu_i) = \beta_0 + s(\mathrm{year_i}) + \log(\mathrm{total}_i)$, where all symbols have the same meaning as in the previous paragraph and the term $s(\mathrm{year_i})$ represents a thin-plate regression spline [@wood2003] smoother over time.

We conducted our fill-in-the-blank analysis using a similar approach to the top-nine-terms-by-decade approach described above. In contrast, however, we worked with the entire 2-gram dataset. We retained only 2-grams in which the word filling in the blank was at least four characters long. We again combined 2-grams if the "blank" words had the same lemma and omitted a number of 2-grams in with the "blank" word rendered a 2-gram that was not ecologically relevant (Table \@ref(tab:bad-blanks)). We also omitted "biological conservation", since it appeared disproportionally as a journal name.

## Curated panels

In addition to the algorithmic analyses described above, we assembled "hand-curated" panels in which we used our knowledge of the field to explore groups of related terms in the corpus (Fig. \@ref(fig:ecology)--\@ref(fig:social)). We developed these term groups through brainstorming sessions and iterative consultation with other postdoctoral fellows and alumni of the David H. Smith Conservation Research Fellowship Program. In many cases, we combined multiple related n-grams under a single umbrella term in the figures. For example, *GLM* and *generalized linear model* (and their plural forms) all appear as *GLM* in Fig. \@ref(fig:methods) and *human health*, *child health*, *childrens health*, *human health*, and *womens health* all appear as *human health* in Fig. \@ref(fig:social). The subcomponents of these umbrella terms can be seen in Fig. \@ref(fig:community-all)--\@ref(fig:social-all).

\clearpage

# Figures

(ref:fig-decades-cap) **Top n-grams from the 1940s and 2000s.** (**a–d**) Top nine 1-gram nouns and 2-gram nouns or adjectives from the 1940s and 2000s. Labels refer to "lemmas" or root words. For example, plant and plants as n-grams are both combined and labelled as "plant". (**e–f**) Most rapidly increasing 1-gram nouns and 2-gram nouns or adjectives from 1980--2010. Light grey lines indicate frequency of the n-gram per 100,000 words. Dark coloured trend lines and associated shaded ribbons represent generalized additive model (GAM) fits and 95% confidence intervals (see Supporting Material).

```{r decades, fig.cap = "(ref:fig-decades-cap)", out.width="5.6in", fig.align="center", fig.pos="h"}
include_graphics(here("figs/decades-and-booms-viridis.pdf"))
```

\clearpage

(ref:fig-blanks-cap) **Top fill-in-the-blank 2-gram phrases.** Each panel shows the top eight 2-gram terms where the *blank* in the panel label is filled in by the noun or adjective indicated beside each trend. For example, in panel **a**, "Species *blank*" with the term "richness" corresponds to "species richness". The top n-grams are defined based on summing the occurrences throughout the entire time period thereby weighting recent years more heavily.

```{r blanks, fig.cap = "(ref:fig-blanks-cap)"}
include_graphics(here("figs/blanks-viridis5.pdf"))
```

\clearpage

(ref:fig-ecology-cap) **Community ecology n-grams from 1930--2010.** Curated sets of n-grams related to themes in community ecology. Light grey lines indicate frequency of the n-gram per 100,000 words. Dark coloured trend lines and associated shaded ribbons represent generalized additive model (GAM) fits and 95% confidence intervals (see Supporting Material).

```{r ecology, fig.cap = "(ref:fig-ecology-cap)"}
include_graphics(here("figs/ecology-panels3.pdf"))
```

\clearpage

(ref:fig-methods-cap) **Data analysis, statistical methods, and genetics n-grams from 1930--2010.** Note that in this and subsequent figures, the n-gram labels sometimes refer to multiple underlying related n-grams. For example, *supplementary material* refers to multiple n-grams including *supplementary material*, *supporting information*, and *SOM*.
*ANOVA*: analysis of variance,
*GLM*: generalized linear model,
*AIC*: Akaike information criterion,
*MCMC*: Markov chain Monte Carlo,
*RT-PCR*: reverse transcription polymerase chain reaction.

```{r methods, fig.cap = "(ref:fig-methods-cap)"}
include_graphics(here("figs/methods-models-genetics2.pdf"))
```

\clearpage

(ref:fig-conservation-cap) **Conservation and applied ecology n-grams from 1930--2010.**

```{r cons, fig.cap = "(ref:fig-conservation-cap)"}
include_graphics(here("figs/conservation-human-impacts.pdf"))
```

\clearpage

(ref:fig-social-cap) **Social science n-grams relevant to ecology from 1930--2010.**
*REDD*: Reducing Emissions from Deforestation and Forest Degradation.

```{r social, fig.cap = "(ref:fig-social-cap)"}
include_graphics(here("figs/social-science-panels3.pdf"))
```

\clearpage

\renewcommand{\thefigure}{S\arabic{figure}}
\renewcommand{\thetable}{S\arabic{table}}
\setcounter{figure}{0}
\setcounter{table}{0}

\clearpage

# Supporting Information

(ref:fig-declines-cap) Same as Fig. \@ref(fig:decades)e--f but for most rapidly declining n-grams from 1930--1960.

```{r declines-supp, fig.cap = "(ref:fig-declines-cap)", fig.pos="h", fig.align="center"}
include_graphics(here("figs/booms-decline.pdf"))
```

\clearpage

(ref:fig-blanks-supp-cap) Additional fill-in-the-blank figure panels using the same approach as Fig. \@ref(fig:blanks). Each panel shows the top eight 2-gram terms where the *blank* in the panel label is filled in by the noun or adjective indicated beside each trend. For example, in panel **a**, "Theory of *blank*" with the term "evolution" corresponds to "Theory of evolution".

```{r blanks-supp, fig.cap = "(ref:fig-blanks-supp-cap)"}
include_graphics(here("figs/blanks-extras-2018-08-09.pdf"))
```

\clearpage

<!-- TODO: do we want to include this extra supplemental figure? -->

```{r genetics-supp, fig.cap = "TODO"}
include_graphics(here("figs/genetics-supp.pdf"))
```

\clearpage

```{r}
make_facet_cap <- function(label) {
  paste0("Individual trends in n-gram frequency for the data underlying Fig. \\@ref(fig:", label, "). The terms listed in the top row above each panel refer to the aggregate term displayed in Fig. \\@ref(fig:", label, "). The terms listed on the second row above each panel refer to an underlying n-gram that was searched in the corpus.")
}
```


(ref:fig-community-all-cap) `r make_facet_cap("ecology")` For this supplemental figure, the top and bottom rows happened to be the same.

```{r community-all, fig.cap = "(ref:fig-community-all-cap) ", out.width="\\textwidth", fig.align="center"}
include_graphics(here("figs/community-ecology-facets.pdf"))
```

\clearpage

(ref:fig-methods-all-cap) `r make_facet_cap("methods")`

```{r methods-all, fig.cap = "(ref:fig-methods-all-cap)", out.width="6.1in", fig.align="center"}
include_graphics(here("figs/methods-models-genetics-facets.pdf"))
```

\clearpage

(ref:fig-conservation-all-cap) `r make_facet_cap("cons")`

```{r conservation-all, fig.cap = "(ref:fig-conservation-all-cap)", out.width="6.1in", fig.align="center"}
include_graphics(here("figs/conservation-human-impacts-facets.pdf"))
```

\clearpage

(ref:fig-social-all-cap) `r make_facet_cap("social")`

```{r social-all, fig.cap = "(ref:fig-social-all-cap)"}
include_graphics(here("figs/social-facets.pdf"))
```

\clearpage

(ref:totals-by-journal-cap) Total number of words per year by journal in the corpus. Journal names are given as JSTOR "slugs" (Table \@ref(tab:included-journals)) and journals are arranged by total number of words across all years. Note that a number of the JSTOR slugs represent the same journal through time (e.g., "procroyasocilon2", "procroyasocilon4", etc.). URLs for the various JSTOR slugs can be created by adding <https://www.jstor.org/journal/> before the slug. For example, <https://www.jstor.org/journal/ecology>.

```{r totals-by-journal, fig.cap = "(ref:totals-by-journal-cap)"}
include_graphics(here("figs/journal-totals-by-year.pdf"))
```

\clearpage

```{r total-by-year, message=FALSE, warning=FALSE, fig.asp=0.618, fig.cap="Number of 1-grams per year across the entire corpus. This time series represents the denominator when standardizing the timeseries in all other figures to be per 100,000 words in the corpus.", fig.width=5}
total1 <- readRDS(here::here("data/generated/total1.rds"))
total1 %>%
  filter(year >= 1930, year <= 2010) %>%
ggplot(aes(year, total_words / 1e6)) +
  geom_point() +
  geom_line() +
  ggsidekick::theme_sleek() +
  ylab("Millions of 1-grams") + xlab("Year")
```

\clearpage

```{r included-journals, message=FALSE, results="asis", eval=TRUE}
journals %>%
  arrange(`JSTOR Slug`, Journal) %>%
  knitr::kable(booktabs = TRUE, linesep = "", longtable = TRUE,
    label = "included-journals",
    # caption = "Journals included in the corpus. Inclusion codes: `IN' = `include', `NR' = `not relevant', `TS' = `taxa specific', `NC' = `not sufficient temporal coverage', `RS' = `region specific'. In the comments column, `KS' refers to kingdom-specific journals. These were retained in our analysis.") %>%
      caption = "Journals included in the corpus. Taxon Specific codes: `P' = `Plants' (excluded), `F' = `Fungi' (excluded), `A' = `Animals' (excluded), `N' = `Not taxon specific' (retained). URLs for the various JSTOR slugs can be created by adding \\url{https://www.jstor.org/journal/} before the slug. For example, \\url{https://www.jstor.org/journal/ecology}.") %>%
  kableExtra::column_spec(column = 1, width = "3.8in") %>%
  kableExtra::column_spec(column = 2, width = "1.3in") %>%
  kableExtra::column_spec(column = 3, width = "1.0in")
```

\clearpage

```{r exclusion-n-grams}
exclude <- c("american naturalist", "ecological monographs",
  "biol bull", "woods hole", "experi ments",
  "condi tions", "indi viduals", "comp physiol",
  "empty declaremathsizes", "university press",
  "conservation biology", "ecological society",
  "coastal research", "Journal compilation",
  "Blackwell publishing", "british ecological",
  "ecological applications", "cambridge university",
  "authors journal", "canadian journal",
  "royal society", "ecol evol", "state university",
  "springer verlag", "phil trans", "much more", "same time",
  "united states", "other hand", "philosophical transactions",
  "corresponding editor", "ecol monogr", "conserv biol",
  "ecol lett", "popu lations", "ecology letters",
  "research institute", "press chicago", "ecol syst",
  "funct ecol", "change biology", "author contributions",
  "phil wrans", "portugal issn", "nati acad", "proc nati",
  "corresponding author")

ignore_1grams <- c("fig", "use", "doi", "case", "tion", "cent", "while",
  "results", "table", "figure", "journal", "university", "author", "eve")

exclude <- c(exclude, ignore_1grams)
exclude <- tolower(sort(exclude))
# exclude <- paste(exclude, collapse = ", ")

row_length <- ceiling(length(exclude)/3)

exclude_df <- tibble::tibble(
  `Excluded terms` = exclude[1:row_length],
  `Excluded terms continued` = exclude[(row_length + 1):(row_length*2)],
  `Excluded terms continued ` = c(exclude[(row_length*2 + 1):length(exclude)], "", ""))

exclude_df %>%
  knitr::kable(booktabs = TRUE, linesep = "", longtable = TRUE,
    caption = "1- and 2-grams excluded from the top n-grams by decade analyses.")
```

\clearpage

```{r bad-amnat}
exclude <- readr::read_lines(here::here("data/bad-amnat.txt")) # latex code
exclude <- tolower(sort(exclude))
row_length <- ceiling(length(exclude)/2)
exclude_df <- tibble::tibble(
  `Excluded terms` = exclude[1:row_length],
  `Excluded terms continued` = exclude[(row_length + 1):(row_length*2)])

exclude_df %>%
  knitr::kable(booktabs = TRUE, linesep = "", longtable = TRUE,
    caption = "1-grams excluded because they were erroneous LaTeX terms included in some American Naturalist papers.")
```

\clearpage

```{r bad-blanks}
exclude <- c("ecol",
  "tial", "i.e", "ltd", "poral", "tial", "authors", "way",
  "these", "great", "other", "term", "cine", "tbe",
  "affect", "editors", "same", "such", "cer", "esw", "l.f", "r.f",
  "many", "different", "present", "previous")
exclude <- exclude[!nchar(exclude) < 4]
exclude <- tolower(sort(exclude))
row_length <- ceiling(length(exclude)/2)
exclude_df <- tibble::tibble(
  `Excluded terms` = exclude)
exclude_df %>%
  knitr::kable(booktabs = TRUE, linesep = "", longtable = TRUE,
    caption = "Words excluded from the fill-in-the-blanks n-gram analyses.")
```

\clearpage

# References
